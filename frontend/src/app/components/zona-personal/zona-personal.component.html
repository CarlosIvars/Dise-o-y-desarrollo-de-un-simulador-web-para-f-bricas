
<div class="usuario">
    <div class="boton-flotante" (click)="cerrarSesion()" [title]="userName">
        <img class="icon" src="./../../../assets/icons/Trabajador-dark.svg" alt="User">
    </div>
</div>
<div id="content">
    <div id="content-header">
        <div class="title">Estas son tus f치bricas</div>
        <div class="botones">
            <button class="boton-borde" (click)="abrirCrearFabrica()">Nueva f치brica</button>
            <button class="boton-borde" (click)="abrirCrearFabricaAleatoria()">F치brica aleatoria</button>
        </div>
    </div>
    <div *ngIf="!cargando" id="fabricasGrid" class="custom-scrollbar">
        <div *ngFor="let fabrica of fabricas" class="fabrica" (click)="abrirFabrica(fabrica.id)">
            <div class="cuerpo">
                <div class="nombreFabrica">{{fabrica.nombre}}</div>
                <div class="dinero"><img class="icon" src="./../../../assets/icons/Money.svg" alt="User">{{fabrica.capital}}</div>
                <div class="sector">{{fabrica.sector}}</div>
            </div>
            <div class="editar"(click)="abrirEditFabricaForm(fabrica); $event.stopPropagation();">
                <i class="bi bi-three-dots"></i>
            </div>
        </div>
        <!--div (click)="abrirCrearFabrica()" class="fabrica nueva">Crear nueva f치brica</div-->
    </div>
    <div *ngIf="cargando">
        Cargando las fabricas...
    </div>
</div>
<app-crear-fabrica-form *ngIf="mostrarCrearFabrica" [sectores]="sectores" (close)="cerrarCrearFabrica()" (fabricaCreada)="crearFabrica($event)"></app-crear-fabrica-form>
<app-fabrica-aleatoria-form *ngIf="mostrarCrearFabricaAleatoria" (close)="cerrarCrearFabricaAleatoria()" (fabricaCreada)="crearFabrica($event)"></app-fabrica-aleatoria-form>
<app-edit-fabrica-form *ngIf="editarFabricaForm" [sectores]="sectores" [fabrica]="fabricaEditar" (close)="cerrarEditFabricaForm()" (fabricaModificada)="modificarFabrica($event)" (deleteFabrica)="borrarFabrica($event)"></app-edit-fabrica-form>
